(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{31:function(t,e,n){},32:function(t,e,n){},40:function(t,e,n){},41:function(t,e,n){},61:function(t,e,n){},70:function(t,e,n){"use strict";n.r(e);var a=n(1),s=n.n(a),r=n(33),i=n.n(r),o=n(14),c=(n(39),n(40),n(17)),l=n(4),d=n(5),u=n(7),h=n(6),j=(n(41),n(2)),p=n(13),b=n.n(p),m=new function t(){var e=this;Object(l.a)(this,t),this.signup=function(t,n){return e.service.post("/signup",{username:t,password:n}).then((function(t){return t.data}))},this.loggedin=function(){return e.service.get("/loggedin").then((function(t){return t.data}))},this.login=function(t,n){return e.service.post("/login",{username:t,password:n}).then((function(t){return t.data}))},this.logout=function(){return e.service.post("/logout",{}).then((function(t){return t.data}))},this.service=b.a.create({baseURL:"".concat("http://thetravelogue.herokuapp.com/"),withCredentials:!0})},g=n(18),f=n.n(g),y=n(0);f.a.accessToken="pk.eyJ1IjoiYWxleGFuZHJlb2xpdiIsImEiOiJja3FtYTIxYm4wMHJkMnVtaGMyZ2t2dmF0In0.AVesP7QNz89Q7ND7AF2ikQ";var x=function(t){Object(u.a)(n,t);var e=Object(h.a)(n);function n(t){var a;return Object(l.a)(this,n),(a=e.call(this,t)).deleteCountry=function(t){a.props.deleteCountry(t)},a.getMap=function(t){var e=a.state,n=e.lat,s=e.lng,r=e.zoom,i=new f.a.Map({container:a.mapContainer.current,style:"mapbox://styles/notalemesa/ck8dqwdum09ju1ioj65e3ql3k",center:[n,s],zoom:r});i.on("load",(function(){i.addLayer({id:"countriesVisited",source:{type:"vector",url:"mapbox://alexandreoliv.6ryseghu"},"source-layer":"ne_10m_admin_0_countries-1c8n19",type:"fill",paint:{"fill-color":"#62F6B6","fill-opacity":.5}}),i.setFilter("countriesVisited",["in","ADM0_A3_IS"].concat(t.filter((function(t){return t.visited})).map((function(t){return t.country.code})))),i.on("click","countriesVisited",(function(t){var e=t.features[0].properties.ADM0_A3_IS;fetch("https://restcountries.eu/rest/v2/alpha/".concat(e)).then((function(t){return t.json()})).then((function(e){var n=e.population.toString().replace(/(\d)(?=(\d{3})+(?!\d))/g,"$1."),a=" \n\t\t\t\t\t\t<img src='".concat(e.flag,'\' height="50px"/> \n\t\t\t\t\t\t<h3>').concat(e.name,"</h3>\n\t\t\t\t\t\t<strong>Capital:</strong> ").concat(e.capital,"\n\t\t\t\t\t\t<br><strong>Population:</strong> ").concat(n,"\n\t\t\t\t\t\t<br><strong>Demonym:</strong> ").concat(e.demonym,"\n\t\t\t\t\t\t<br><strong>Official languages:</strong> ").concat(e.languages.map((function(t){return t.name})).join(", "),"\n\t\t\t\t\t\t<br><strong>Currency:</strong> ").concat(e.currencies.map((function(t){return t.code})).join(", "),"\n\t\t\t\t\t\t");(new f.a.Popup).setLngLat(t.lngLat).setHTML(a).addTo(i)}))})),i.addLayer({id:"countriesNotVisited",source:{type:"vector",url:"mapbox://alexandreoliv.6ryseghu"},"source-layer":"ne_10m_admin_0_countries-1c8n19",type:"fill",paint:{"fill-color":"#ECF662","fill-opacity":.5}}),i.setFilter("countriesNotVisited",["in","ADM0_A3_IS"].concat(t.filter((function(t){return!t.visited})).map((function(t){return t.country.code})))),i.on("click","countriesNotVisited",(function(t){var e=t.features[0].properties.ADM0_A3_IS;fetch("https://restcountries.eu/rest/v2/alpha/".concat(e)).then((function(t){return t.json()})).then((function(e){var n=e.population.toString().replace(/(\d)(?=(\d{3})+(?!\d))/g,"$1."),a=" \n\t\t\t\t\t\t<img src='".concat(e.flag,'\' height="50px"/> \n\t\t\t\t\t\t<h3>').concat(e.name,"</h3>\n\t\t\t\t\t\t<strong>Capital:</strong> ").concat(e.capital,"\n\t\t\t\t\t\t<br><strong>Population:</strong> ").concat(n,"\n\t\t\t\t\t\t<br><strong>Demonym:</strong> ").concat(e.demonym,"\n\t\t\t\t\t\t<br><strong>Official languages:</strong> ").concat(e.languages.map((function(t){return t.name})).join(", "),"\n\t\t\t\t\t\t<br><strong>Currency:</strong> ").concat(e.currencies.map((function(t){return t.code})).join(", "),"\n\t\t\t\t\t\t");(new f.a.Popup).setLngLat(t.lngLat).setHTML(a).addTo(i)}))}))}))},a.state={lat:13.405,lng:52.52,zoom:1.5,user:t.user,countries:t.getUserCountries()},a.mapContainer=s.a.createRef(),a}return Object(d.a)(n,[{key:"componentDidMount",value:function(){this.getMap(this.props.countries)}},{key:"componentDidUpdate",value:function(){this.getMap(this.props.countries)}},{key:"render",value:function(){return Object(y.jsx)("div",{ref:this.mapContainer,className:"map-container"})}}]),n}(a.Component),v=n(12),O=(n(31),function(t){Object(u.a)(n,t);var e=Object(h.a)(n);function n(){var t;Object(l.a)(this,n);for(var a=arguments.length,s=new Array(a),r=0;r<a;r++)s[r]=arguments[r];return(t=e.call.apply(e,[this].concat(s))).state={owner:"",country:{name:"",code:"",flag:""},city:"",details:"",visited:""},t.handleFormSubmit=function(e){if(t.state.country.code){e.preventDefault();var n={name:t.state.country.name,code:t.state.country.code,flag:t.state.country.flag},a=t.state.city,s=t.state.details,r=t.state.visited,i=t.props.user._id;t.props.addCountry(n,a,s,r,i),t.setState({country:{name:"",code:"",flag:""},city:"",details:"",visited:""})}},t.handleChange=function(e){var n=e.target,a=n.name,s=n.value;"code"===e.target.name?t.setState({country:{code:s,name:t.props.allCountries.filter((function(t){return t.alpha3Code===s})).map((function(t){return t.name}))[0],flag:"https://flagcdn.com/16x12/"+t.props.allCountries.filter((function(t){return t.alpha3Code===s})).map((function(t){return t.alpha2Code}))[0].toLowerCase()+".png"}}):t.setState(Object(v.a)({},a,s))},t}return Object(d.a)(n,[{key:"render",value:function(){var t=this;return Object(y.jsx)("div",{className:"add-country",children:Object(y.jsxs)("form",{onSubmit:this.handleFormSubmit,children:[Object(y.jsxs)("div",{children:[Object(y.jsxs)("label",{children:["Country ",Object(y.jsx)("span",{style:{color:"red"},children:"*"})]}),Object(y.jsxs)("select",{name:"code",value:this.state.country.code,required:!0,onChange:function(e){return t.handleChange(e)},children:[Object(y.jsx)("option",{}),this.props.allCountries.map((function(t){return Object(y.jsx)("option",{value:t.alpha3Code,children:t.name},t.alpha3Code)}))]})]}),Object(y.jsxs)("div",{children:[Object(y.jsxs)("label",{children:["Cities ",Object(y.jsx)("span",{style:{color:"red"},children:"*"})]}),Object(y.jsx)("textarea",{name:"city",cols:"40",value:this.state.city,required:!0,onChange:function(e){return t.handleChange(e)}})]}),Object(y.jsxs)("div",{children:[Object(y.jsx)("label",{children:"Details: "}),Object(y.jsx)("textarea",{name:"details",rows:"4",cols:"40",value:this.state.details,placeholder:"How was it? How long did you stay? Any special memories? Or what are your plans for your future trip?",onChange:function(e){return t.handleChange(e)}})]}),Object(y.jsxs)("div",{className:"radio",children:[Object(y.jsxs)("div",{children:[Object(y.jsx)("input",{type:"radio",id:"visited",name:"visited",value:"true",required:!0,onChange:function(e){return t.handleChange(e)}}),Object(y.jsx)("label",{htmlFor:"visited",children:"Already visited"})]}),Object(y.jsxs)("div",{children:[Object(y.jsx)("input",{type:"radio",id:"planned",name:"visited",value:"false",onChange:function(e){return t.handleChange(e)}}),Object(y.jsxs)("label",{htmlFor:"planned",children:["Future trip ",Object(y.jsx)("span",{style:{color:"red"},children:"*"})]})]})]}),Object(y.jsxs)("div",{className:"div-btn",children:[Object(y.jsx)("button",{type:"button",className:"btn btn-secondary","data-dismiss":"modal",children:"Close"}),Object(y.jsx)("button",{type:"submit",className:"btn btn-primary",children:"Save country"})]})]})})}}]),n}(a.Component)),C=function(t){Object(u.a)(n,t);var e=Object(h.a)(n);function n(){var t;Object(l.a)(this,n);for(var a=arguments.length,s=new Array(a),r=0;r<a;r++)s[r]=arguments[r];return(t=e.call.apply(e,[this].concat(s))).state={city:t.props.country.city,details:t.props.country.details,visited:t.props.country.visited},t.deleteCountry=function(e){t.props.deleteCountry(e)},t.editCountry=function(e,n,a,s){t.props.editCountry(e,n,a,s)},t.handleFormSubmit=function(e){var n=t.state.city,a=t.state.details,s=t.state.visited,r=t.props.country._id;t.editCountry(r,n,a,s)},t.handleChange=function(e){var n=e.target,a=n.name,s=n.value;t.setState(Object(v.a)({},a,s))},t}return Object(d.a)(n,[{key:"render",value:function(){var t=this,e=this.props.country;return e?Object(y.jsx)("div",{className:"add-country",children:Object(y.jsxs)("form",{onSubmit:this.handleFormSubmit,children:[Object(y.jsxs)("div",{children:[Object(y.jsxs)("label",{children:["Cities ",Object(y.jsx)("span",{style:{color:"red"},children:"*"})]}),Object(y.jsx)("textarea",{name:"city",cols:"40",value:this.state.city,required:!0,onChange:function(e){return t.handleChange(e)}})]}),Object(y.jsxs)("div",{children:[Object(y.jsx)("label",{children:"Details: "}),Object(y.jsx)("textarea",{name:"details",rows:"4",cols:"40",value:this.state.details,placeholder:this.props.placeholder,onChange:function(e){return t.handleChange(e)}})]}),Object(y.jsxs)("div",{className:"radio",children:[Object(y.jsxs)("div",{children:[Object(y.jsx)("input",{type:"radio",id:"visited".concat(e._id),name:"visited",value:"true",defaultChecked:!!this.state.visited,required:!0,onChange:function(e){return t.handleChange(e)}}),Object(y.jsx)("label",{htmlFor:"visited".concat(e._id),children:"Already visited"})]}),Object(y.jsxs)("div",{children:[Object(y.jsx)("input",{type:"radio",id:"planned".concat(e._id),name:"visited",value:"false",defaultChecked:!this.state.visited,onChange:function(e){return t.handleChange(e)}}),Object(y.jsxs)("label",{htmlFor:"planned".concat(e._id),children:["Future trip ",Object(y.jsx)("span",{style:{color:"red"},children:"*"})]})]})]}),Object(y.jsx)("button",{type:"button",className:"btn btn-secondary",style:{margin:"0 5px 20px 5px",padding:"3px"},onClick:function(){return t.deleteCountry("".concat(e._id))},children:"Delete"}),Object(y.jsx)("button",{type:"submit",className:"btn btn-primary",style:{margin:"0 5px 20px 5px",padding:"3px"},children:"Save country"}),Object(y.jsx)("div",{className:"modal-footer"})]})}):Object(y.jsx)(y.Fragment,{})}}]),n}(a.Component),N=function(t){Object(u.a)(n,t);var e=Object(h.a)(n);function n(t){var a;return Object(l.a)(this,n),(a=e.call(this,t)).showDetails=function(){a.setState({details:!a.state.details})},a.state={user:t.user,countries:t.getUserCountries(),details:!1},a}return Object(d.a)(n,[{key:"componentDidMount",value:function(){this.setState({countries:this.props.getUserCountries(),details:!1})}},{key:"componentDidUpdate",value:function(t){t!==this.props&&this.setState({countries:this.props.countries})}},{key:"render",value:function(){var t=this;return this.state.countries?Object(y.jsx)("div",{className:"country-list",children:Object(y.jsxs)("div",{children:[Object(y.jsx)("p",{style:{color:"#137ff9"},children:"Click on any country to open or close the edit mode"}),Object(y.jsxs)("div",{children:[Object(y.jsx)("h5",{style:{textDecoration:"underline"},children:"Already Visited:"}),this.state.countries.filter((function(t){return t.visited})).sort((function(t,e){return t.country.name<e.country.name?-1:1})).map((function(e){return Object(y.jsxs)("div",{style:{width:"20vw"},children:[Object(y.jsxs)("p",{onClick:t.showDetails,children:[e.country.name," ",Object(y.jsx)("img",{src:e.country.flag,alt:e.country.name})]}),t.state.details&&Object(y.jsx)(C,{user:t.state.user,country:e,deleteCountry:t.props.deleteCountry,editCountry:t.props.editCountry,placeholder:"How was it? How long did you stay? Any special memories?"})]},e._id)}))]}),Object(y.jsxs)("div",{children:[Object(y.jsx)("h5",{style:{textDecoration:"underline"},children:"Future trips:"}),this.state.countries.filter((function(t){return!t.visited})).sort((function(t,e){return t.country.name<e.country.name?-1:1})).map((function(e){return Object(y.jsxs)("div",{style:{width:"20vw"},children:[Object(y.jsxs)("p",{onClick:t.showDetails,children:[e.country.name," ",Object(y.jsx)("img",{src:e.country.flag,alt:e.country.name})]}),t.state.details&&Object(y.jsx)(C,{user:t.state.user,country:e,deleteCountry:t.props.deleteCountry,editCountry:t.props.editCountry,placeholder:"What are you plans?"})]},e._id)}))]})]})}):Object(y.jsx)(y.Fragment,{})}}]),n}(a.Component),w=(n(61),function(t){Object(u.a)(n,t);var e=Object(h.a)(n);function n(){var t;Object(l.a)(this,n);for(var a=arguments.length,s=new Array(a),r=0;r<a;r++)s[r]=arguments[r];return(t=e.call.apply(e,[this].concat(s))).logoutUser=function(){m.logout().then((function(){t.props.getUser(null,!1)}))},t}return Object(d.a)(n,[{key:"render",value:function(){var t=this,e=this.props,n=e.userIsLoggedIn,a=e.userData;return n?Object(y.jsxs)(y.Fragment,{children:[Object(y.jsxs)("nav",{className:"nav-style",children:[n&&Object(y.jsxs)("p",{style:{fontWeight:"bold",color:"#137ff9"},children:[a.username,"'s travelogue"]}),Object(y.jsxs)("div",{className:"nav-style-buttons",children:[Object(y.jsx)("button",{type:"button",className:"btn btn-primary btn-countries","data-toggle":"modal","data-target":"#addcountry",children:"Add Country"}),Object(y.jsx)("button",{type:"button",className:"btn btn-primary","data-toggle":"modal","data-target":"#editcountries",children:"Edit Countries"})]}),Object(y.jsx)(o.b,{to:"/",children:Object(y.jsx)("button",{type:"button",className:"btn btn-primary",onClick:function(){return t.logoutUser()},children:"Log out"})})]}),Object(y.jsx)("div",{className:"modal fade",id:"addcountry",tabIndex:"-1",role:"dialog","aria-labelledby":"exampleModalLabel","aria-hidden":"true",children:Object(y.jsx)("div",{className:"modal-dialog",role:"document",children:Object(y.jsxs)("div",{className:"modal-content",style:{width:"480px"},children:[Object(y.jsxs)("div",{className:"modal-header",children:[Object(y.jsx)("h5",{className:"modal-title",id:"exampleModalLabel",children:"Add Country"}),Object(y.jsx)("button",{type:"button",className:"close","data-dismiss":"modal","aria-label":"Close",children:Object(y.jsx)("span",{"aria-hidden":"true",children:"\xd7"})})]}),Object(y.jsx)("div",{className:"modal-body",children:Object(y.jsx)(O,{user:a,allCountries:this.props.allCountries,addCountry:this.props.addCountry})})]})})}),Object(y.jsx)("div",{className:"modal fade",id:"editcountries",tabIndex:"-1",role:"dialog","aria-labelledby":"exampleModalLabel","aria-hidden":"true",children:Object(y.jsx)("div",{className:"modal-dialog",role:"document",children:Object(y.jsxs)("div",{className:"modal-content",style:{width:"480px"},children:[Object(y.jsxs)("div",{className:"modal-header",children:[Object(y.jsx)("h5",{className:"modal-title",id:"exampleModalLabel",children:"Edit Countries"}),Object(y.jsx)("button",{type:"button",className:"close","data-dismiss":"modal","aria-label":"Close",children:Object(y.jsx)("span",{"aria-hidden":"true",children:"\xd7"})})]}),Object(y.jsx)("div",{className:"modal-body",children:Object(y.jsx)(N,{user:a,allCountries:this.props.allCountries,countries:this.props.countries,getUserCountries:this.props.getUserCountries,deleteCountry:this.props.deleteCountry,editCountry:this.props.editCountry})})]})})}),Object(y.jsx)(x,{user:a,countries:this.props.countries,getUserCountries:this.props.getUserCountries,deleteCountry:this.props.deleteCountry})]}):Object(y.jsx)("div",{children:Object(y.jsx)("nav",{className:"nav-style-login",children:Object(y.jsxs)("div",{children:[Object(y.jsx)("h5",{children:"travelogue"}),Object(y.jsxs)("div",{children:[Object(y.jsx)(o.b,{to:"/login",style:{textDecoration:"none"},children:Object(y.jsx)("button",{type:"button",className:"btn btn-info","data-toggle":"modal","data-target":"#loginModal",children:"Log in"})}),Object(y.jsx)(o.b,{to:"/signup",style:{textDecoration:"none"},children:Object(y.jsx)("button",{type:"button",className:"btn btn-info","data-toggle":"modal","data-target":"#signupModal",children:"Sign up"})})]})]})})})}}]),n}(a.Component)),S=(n(32),function(t){Object(u.a)(n,t);var e=Object(h.a)(n);function n(){var t;Object(l.a)(this,n);for(var a=arguments.length,s=new Array(a),r=0;r<a;r++)s[r]=arguments[r];return(t=e.call.apply(e,[this].concat(s))).state={username:"",password:""},t.handleFormSubmit=function(e){e.preventDefault();var n=t.state,a=n.username,s=n.password;m.signup(a,s).then((function(e){t.setState({username:"",password:""}),t.props.getUser(e,!0)})).catch((function(t){return console.log(t)}))},t.handleChange=function(e){var n=e.target,a=n.name,s=n.value;t.setState(Object(v.a)({},a,s))},t}return Object(d.a)(n,[{key:"render",value:function(){return Object(y.jsx)("div",{children:Object(y.jsx)("form",{onSubmit:this.handleFormSubmit,children:Object(y.jsx)("div",{className:"modal fade",id:"signupModal",tabIndex:"-1",role:"dialog","aria-labelledby":"exampleModalLabel","aria-hidden":"true",children:Object(y.jsx)("div",{className:"modal-dialog modal-dialog-centered",role:"document",children:Object(y.jsxs)("div",{className:"modal-content",children:[Object(y.jsx)("div",{className:"modal-header border-bottom-0",children:Object(y.jsx)("button",{type:"button",className:"close","data-dismiss":"modal","aria-label":"Close",children:Object(y.jsx)("span",{"aria-hidden":"true",children:"\xd7"})})}),Object(y.jsxs)("div",{className:"modal-body",children:[Object(y.jsx)("div",{className:"form-title text-center",children:Object(y.jsx)("h4",{children:"Sign up"})}),Object(y.jsxs)("div",{className:"d-flex flex-column text-center",children:[Object(y.jsx)("div",{className:"form-group",children:Object(y.jsx)("input",{type:"text",className:"form-control",id:"signup-username",placeholder:"username",name:"username",value:this.state.username,required:!0,onChange:this.handleChange})}),Object(y.jsx)("div",{className:"form-group",children:Object(y.jsx)("input",{type:"password",className:"form-control",id:"signup-password",placeholder:"password",name:"password",value:this.state.password,required:!0,onChange:this.handleChange})}),Object(y.jsx)("button",{type:"submit",className:"btn btn-info btn-block btn-round",children:"Sign up"})]})]})]})})})})})}}]),n}(a.Component)),k=function(t){Object(u.a)(n,t);var e=Object(h.a)(n);function n(){var t;Object(l.a)(this,n);for(var a=arguments.length,s=new Array(a),r=0;r<a;r++)s[r]=arguments[r];return(t=e.call.apply(e,[this].concat(s))).state={username:"",password:""},t.handleFormSubmit=function(e){e.preventDefault();var n=t.state,a=n.username,s=n.password;m.login(a,s).then((function(e){t.setState({username:"",password:""}),t.props.getUser(e,!0)})).catch((function(t){return console.log(t)}))},t.handleChange=function(e){var n=e.target,a=n.name,s=n.value;t.setState(Object(v.a)({},a,s))},t}return Object(d.a)(n,[{key:"render",value:function(){return Object(y.jsx)("div",{children:Object(y.jsx)("form",{onSubmit:this.handleFormSubmit,children:Object(y.jsx)("div",{className:"modal fade",id:"loginModal",tabIndex:"-1",role:"dialog","aria-labelledby":"exampleModalLabel","aria-hidden":"true",children:Object(y.jsx)("div",{className:"modal-dialog modal-dialog-centered",role:"document",children:Object(y.jsxs)("div",{className:"modal-content",children:[Object(y.jsx)("div",{className:"modal-header border-bottom-0",children:Object(y.jsx)("button",{type:"button",className:"close","data-dismiss":"modal","aria-label":"Close",children:Object(y.jsx)("span",{"aria-hidden":"true",children:"\xd7"})})}),Object(y.jsxs)("div",{className:"modal-body",children:[Object(y.jsx)("div",{className:"form-title text-center",children:Object(y.jsx)("h4",{children:"Log in"})}),Object(y.jsxs)("div",{className:"d-flex flex-column text-center",children:[Object(y.jsx)("div",{className:"form-group",children:Object(y.jsx)("input",{type:"text",className:"form-control",id:"login-username",placeholder:"username",name:"username",value:this.state.username,required:!0,onChange:this.handleChange})}),Object(y.jsx)("div",{className:"form-group",children:Object(y.jsx)("input",{type:"password",className:"form-control",id:"login-password",placeholder:"password",name:"password",value:this.state.password,required:!0,onChange:this.handleChange})}),Object(y.jsx)("button",{type:"submit",className:"btn btn-info btn-block btn-round","data-bs-dismiss":"modal",children:"Log in"})]})]})]})})})})})}}]),n}(a.Component),U=function(t){Object(u.a)(n,t);var e=Object(h.a)(n);function n(){var t;Object(l.a)(this,n);for(var a=arguments.length,s=new Array(a),r=0;r<a;r++)s[r]=arguments[r];return(t=e.call.apply(e,[this].concat(s))).state={isLoggedIn:!1,user:null,countries:[],allCountries:[]},t.getTheUser=function(e,n){t.setState({user:e,isLoggedIn:n})},t.fetchUser=function(){null===t.state.user&&m.loggedin().then((function(e){t.setState({user:e,isLoggedIn:!0})})).catch((function(e){t.setState({user:null,isLoggedIn:!1})}))},t.getAllCountries=function(){b.a.get("https://restcountries.eu/rest/v2/all").then((function(e){t.setState({allCountries:e.data})})).catch((function(t){return console.log(t)}))},t.getUserCountries=function(){b.a.get("".concat("http://thetravelogue.herokuapp.com/","/countries/user"),{withCredentials:!0}).then((function(e){if(t.setState({countries:e.data}),0===t.state.countries.length)return 0})).catch((function(t){return console.log(t)}))},t.addCountry=function(e,n,a,s){b.a.post("".concat("http://thetravelogue.herokuapp.com/","/countries"),{country:e,city:n,details:a,visited:s},{withCredentials:!0}).then((function(e){t.getUserCountries()})).catch((function(t){console.log(t)}))},t.editCountry=function(e,n,a,s){b.a.put("".concat("http://thetravelogue.herokuapp.com/","/countries"),{id:e,city:n,details:a,visited:s},{withCredentials:!0}).then((function(e){t.getUserCountries()})).catch((function(t){console.log(t)}))},t.deleteCountry=function(e){b.a.delete("".concat("http://thetravelogue.herokuapp.com/","/countries/").concat(e),{withCredentials:!0}).then((function(e){t.setState({countries:t.state.countries.filter((function(t){return t._id!==e.data._id}))})})).catch((function(t){console.log(t)}))},t}return Object(d.a)(n,[{key:"componentDidMount",value:function(){this.fetchUser(),this.getAllCountries()}},{key:"componentDidUpdate",value:function(t){t!==this.props&&this.fetchUser()}},{key:"render",value:function(){var t=this;return Object(y.jsxs)("div",{className:"App",children:[Object(y.jsx)(w,{userData:this.state.user,userIsLoggedIn:this.state.isLoggedIn,getUser:this.getTheUser,countries:this.state.countries,getUserCountries:this.getUserCountries,allCountries:this.state.allCountries,addCountry:this.addCountry,deleteCountry:this.deleteCountry,editCountry:this.editCountry,getTheUser:this.getTheUser}),Object(y.jsxs)(j.c,{children:[Object(y.jsx)(j.a,{exact:!0,path:"/login",render:function(e){return Object(y.jsx)(k,Object(c.a)(Object(c.a)({},e),{},{getUser:t.getTheUser}))}}),Object(y.jsx)(j.a,{exact:!0,path:"/signup",render:function(e){return Object(y.jsx)(S,Object(c.a)(Object(c.a)({},e),{},{getUser:t.getTheUser}))}})]})]})}}]),n}(a.Component),L=function(t){t&&t instanceof Function&&n.e(3).then(n.bind(null,71)).then((function(e){var n=e.getCLS,a=e.getFID,s=e.getFCP,r=e.getLCP,i=e.getTTFB;n(t),a(t),s(t),r(t),i(t)}))};i.a.render(Object(y.jsx)(o.a,{children:Object(y.jsx)(U,{})}),document.getElementById("root")),L()}},[[70,1,2]]]);
//# sourceMappingURL=main.b19f5ed3.chunk.js.map